---
title: "Kubernetesã‚’ã¡ã‚‡ã£ã¨æ¥½ã«ã§ãã‚‹CLIãƒ„ãƒ¼ãƒ«"
emoji: "ğŸ’¬"
type: "tech"
topics: ["kubernetes"]
published: false
---


# ã¯ã˜ã‚ã«
sweeepæ ªå¼ä¼šç¤¾ã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢ã®é–¢ç”°ã§ã™ã€‚

ã“ã“æœ€è¿‘æ¥­å‹™ã§kubectlã‚’ä½¿ã†ã“ã¨ãŒå¤šããªã£ã¦ããŸã®ã§ã™ãŒã€
kubectlã‚’ãã®ã¾ã¾ä½¿ã£ã¦ã„ã‚‹ã¨å‰²ã¨é•·ã‚ã®ã‚³ãƒãƒ³ãƒ‰ã‚’æ‰“ã¡è¾¼ã‚€å ´é¢ãŒå‡ºã¦ãã¾ã™ã€‚

ãªã®ã§ã€å°‘ã—ã§ã‚‚æ¥½ã‚’ã™ã‚‹ãŸã‚ã«èª¿ã¹ãŸãƒ„ãƒ¼ãƒ«ã‚’ä»Šå›ã¯ç´¹ä»‹ã—ã¦ã„ã“ã†ã¨æ€ã„ã¾ã™ã€‚


## 1. kubectx

kubectxã¯ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆã®åˆ‡ã‚Šæ›¿ãˆã‚’ç°¡å˜ã«è¡Œãˆã‚‹ãƒ„ãƒ¼ãƒ«ã§ã™ã€‚

### install

```
$ brew install kubectx
```

### ä½¿ã„æ–¹

- kubectlã‚’ä½¿ã£ãŸæ–¹æ³•

```bash
# ä¸€è¦§å–å¾—
$ kubectl config get-contexts
# åˆ‡ã‚Šæ›¿ãˆ
$ kubectl config use-context context_name
```

- kubectxã‚’ä½¿ã£ãŸæ–¹æ³•

```bash
# ä¸€è¦§å–å¾—
$ kubectx
# åˆ‡ã‚Šæ›¿ãˆ
$ kubectx context_name
# ä¸€ã¤å‰ã®ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆã«åˆ‡ã‚Šæ›¿ãˆ
$ kubectx -
```


## 2. kubens

kubensã¯ãƒãƒ¼ãƒ ã‚¹ãƒšãƒ¼ã‚¹ã®åˆ‡ã‚Šæ›¿ãˆã«ä¾¿åˆ©ãªãƒ„ãƒ¼ãƒ«ã§ã™ã€‚

### install

kubectxã¨ä¸€ç·’ã«ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã•ã‚Œã¾ã™ã€‚

### ä½¿ã„æ–¹

- kubectlã‚’ä½¿ã£ãŸæ–¹æ³•

```bash
# namespaceåˆ‡ã‚Šæ›¿ãˆ
$ kubectl config set-context context_name --namespace=ns_name
```

- kubensã‚’ä½¿ã£ãŸæ–¹æ³•

```bash
# namespaceåˆ‡ã‚Šæ›¿ãˆ
$ kubens ns_name
```


## 3. stern

[github](https://github.com/wercker/stern)

sternã¯ãƒ­ã‚°ã‚’å–å¾—ã™ã‚‹ã®ã«ä½¿ãˆã‚‹ãƒ„ãƒ¼ãƒ«ã§ã€
å‰æ–¹ä¸€è‡´ã§è©²å½“ã™ã‚‹podã®ãƒ­ã‚°ã‚’å–å¾—ã—ãŸã‚Šã§ãã¾ã™ã€‚

### install

```
$ brew install stern
```

### ä½¿ã„æ–¹

- kubectlã‚’ä½¿ã£ãŸæ–¹æ³•

```bash
$ kubectl logs deplopment_name-xxxx-yyyy
```

- sternã‚’ä½¿ã£ãŸæ–¹æ³•

```bash
$ stern deplopment_name
```


## 4. kube-ps1

[Github](https://github.com/jonmosco/kube-ps1)

kube-ps1ã¯ç¾åœ¨ã®contextã‚„namespaceã‚’ã‚¿ãƒ¼ãƒŸãƒŠãƒ«ä¸Šã«è¡¨ç¤ºã—ã¦ãã‚Œã‚‹ãƒ„ãƒ¼ãƒ«ã§ã™ã€‚

### install

```
$ brew install kube-ps1
```

.zshrcã¾ãŸã¯.bashrcã‚’ç·¨é›†

```bash
# .zshrc
source "/usr/local/opt/kube-ps1/share/kube-ps1.sh"
PROMPT='$(kube_ps1)'$PROMPT

# .bashrc
source "/usr/local/opt/kube-ps1/share/kube-ps1.sh"
PS1='[\u@\h \W $(kube_ps1)]\$ '
```

### ä½¿ã„æ–¹

ã‚¿ãƒ¼ãƒŸãƒŠãƒ«ã‚’ç¢ºèªã—ã¦ã¿ã‚‹ã¨ä»¥ä¸‹ã®ã‚ˆã†ã«å·¦å´ã«contextã¨namespaceãŒè¡¨ç¤ºã•ã‚Œã¾ã™ã€‚

```bash
(âˆ |context-name:namespace)username@hogehoge dir $
```

ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã®ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆåã¯ã¨ã¦ã‚‚é•·ã„ã§ã™ãŒã€ä»¥ä¸‹ã®ã‚³ãƒãƒ³ãƒ‰ã§å¤‰ãˆã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚
```
$ kubectl config rename-context old_name new_name
```

# ãŠã‚ã‚Šã«

ä»–ã«ã‚‚ä¾¿åˆ©ãªãƒ„ãƒ¼ãƒ«ã¯ã‚ã‚‹ã®ã§ã™ãŒã€CLIãƒ„ãƒ¼ãƒ«ã®å®šç•ªã‚’ä»Šå›ã¯ç´¹ä»‹ã—ã¾ã—ãŸã€‚
Kuberneteså‘¨è¾ºãƒ„ãƒ¼ãƒ«ã¯ä¾¿åˆ©ã§ãƒ‘ãƒ¯ãƒ•ãƒ«ãªã‚‚ã®ãŒå¤šãã‚ã‚‹ã®ã§ã€
è‰²ã€…ã¨è©¦ã—ã¦æ¥­å‹™ã§ä½¿ãˆã‚‹ãƒ„ãƒ¼ãƒ«ã¯ã©ã‚“ã©ã‚“å–ã‚Šå…¥ã‚ŒãŸã„ã¨æ€ã„ã¾ã™ã€‚

æœ€å¾Œã«å®£ä¼ã«ã¯ãªã‚Šã¾ã™ãŒã€sweeepã§ã¯ä¸€ç·’ã«åƒãã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢ã‚’å‹Ÿé›†ã—ã¦ã„ã¾ã™ï¼
https://corp.sweeep.ai/recruit
